ET =
 
[sin(q6)*(cos(q4)*sin(q1) - sin(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) - sin(q5)*(sin(q1)*sin(q4) + cos(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) - cos(q6)*(cos(q4)*sin(q1) - sin(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) + cos(q6)*(cos(q5)*(sin(q1)*sin(q4) + cos(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) + sin(q5)*(cos(q1)*cos(q2)*cos(q3) - cos(q1)*sin(q2)*sin(q3))) + sin(q6)*(cos(q5)*(sin(q1)*sin(q4) + cos(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) + sin(q5)*(cos(q1)*cos(q2)*cos(q3) - cos(q1)*sin(q2)*sin(q3))) + cos(q5)*(cos(q1)*cos(q2)*cos(q3) - cos(q1)*sin(q2)*sin(q3)), sin(q6)*(cos(q4)*sin(q1) - sin(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) - sin(q5)*(sin(q1)*sin(q4) + cos(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) - cos(q6)*(cos(q4)*sin(q1) - sin(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) + cos(q6)*(cos(q5)*(sin(q1)*sin(q4) + cos(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) + sin(q5)*(cos(q1)*cos(q2)*cos(q3) - cos(q1)*sin(q2)*sin(q3))) + sin(q6)*(cos(q5)*(sin(q1)*sin(q4) + cos(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) + sin(q5)*(cos(q1)*cos(q2)*cos(q3) - cos(q1)*sin(q2)*sin(q3))) + cos(q5)*(cos(q1)*cos(q2)*cos(q3) - cos(q1)*sin(q2)*sin(q3)), sin(q6)*(cos(q4)*sin(q1) - sin(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) - sin(q5)*(sin(q1)*sin(q4) + cos(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) - cos(q6)*(cos(q4)*sin(q1) - sin(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) + cos(q6)*(cos(q5)*(sin(q1)*sin(q4) + cos(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) + sin(q5)*(cos(q1)*cos(q2)*cos(q3) - cos(q1)*sin(q2)*sin(q3))) + sin(q6)*(cos(q5)*(sin(q1)*sin(q4) + cos(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) + sin(q5)*(cos(q1)*cos(q2)*cos(q3) - cos(q1)*sin(q2)*sin(q3))) + cos(q5)*(cos(q1)*cos(q2)*cos(q3) - cos(q1)*sin(q2)*sin(q3)), l5*cos(q2 + q3)*cos(q1) + l6*cos(q2 + q3)*cos(q1) + l3*cos(q1)*cos(q2) + l4*cos(q1)*sin(q2) + l7*cos(q2 + q3)*cos(q1)*cos(q5) + l8*cos(q2 + q3)*cos(q1)*cos(q5) - l7*sin(q1)*sin(q4)*sin(q5) - l8*sin(q1)*sin(q4)*sin(q5) - l7*cos(q1)*cos(q2)*cos(q4)*sin(q3)*sin(q5) - l7*cos(q1)*cos(q3)*cos(q4)*sin(q2)*sin(q5) - l8*cos(q1)*cos(q2)*cos(q4)*sin(q3)*sin(q5) - l8*cos(q1)*cos(q3)*cos(q4)*sin(q2)*sin(q5)]
[cos(q6)*(cos(q1)*cos(q4) + sin(q4)*(cos(q2)*sin(q1)*sin(q3) + cos(q3)*sin(q1)*sin(q2))) + sin(q5)*(cos(q1)*sin(q4) - cos(q4)*(cos(q2)*sin(q1)*sin(q3) + cos(q3)*sin(q1)*sin(q2))) - sin(q6)*(cos(q1)*cos(q4) + sin(q4)*(cos(q2)*sin(q1)*sin(q3) + cos(q3)*sin(q1)*sin(q2))) - cos(q6)*(cos(q5)*(cos(q1)*sin(q4) - cos(q4)*(cos(q2)*sin(q1)*sin(q3) + cos(q3)*sin(q1)*sin(q2))) + sin(q5)*(sin(q1)*sin(q2)*sin(q3) - cos(q2)*cos(q3)*sin(q1))) - sin(q6)*(cos(q5)*(cos(q1)*sin(q4) - cos(q4)*(cos(q2)*sin(q1)*sin(q3) + cos(q3)*sin(q1)*sin(q2))) + sin(q5)*(sin(q1)*sin(q2)*sin(q3) - cos(q2)*cos(q3)*sin(q1))) - cos(q5)*(sin(q1)*sin(q2)*sin(q3) - cos(q2)*cos(q3)*sin(q1)), cos(q6)*(cos(q1)*cos(q4) + sin(q4)*(cos(q2)*sin(q1)*sin(q3) + cos(q3)*sin(q1)*sin(q2))) + sin(q5)*(cos(q1)*sin(q4) - cos(q4)*(cos(q2)*sin(q1)*sin(q3) + cos(q3)*sin(q1)*sin(q2))) - sin(q6)*(cos(q1)*cos(q4) + sin(q4)*(cos(q2)*sin(q1)*sin(q3) + cos(q3)*sin(q1)*sin(q2))) - cos(q6)*(cos(q5)*(cos(q1)*sin(q4) - cos(q4)*(cos(q2)*sin(q1)*sin(q3) + cos(q3)*sin(q1)*sin(q2))) + sin(q5)*(sin(q1)*sin(q2)*sin(q3) - cos(q2)*cos(q3)*sin(q1))) - sin(q6)*(cos(q5)*(cos(q1)*sin(q4) - cos(q4)*(cos(q2)*sin(q1)*sin(q3) + cos(q3)*sin(q1)*sin(q2))) + sin(q5)*(sin(q1)*sin(q2)*sin(q3) - cos(q2)*cos(q3)*sin(q1))) - cos(q5)*(sin(q1)*sin(q2)*sin(q3) - cos(q2)*cos(q3)*sin(q1)), cos(q6)*(cos(q1)*cos(q4) + sin(q4)*(cos(q2)*sin(q1)*sin(q3) + cos(q3)*sin(q1)*sin(q2))) + sin(q5)*(cos(q1)*sin(q4) - cos(q4)*(cos(q2)*sin(q1)*sin(q3) + cos(q3)*sin(q1)*sin(q2))) - sin(q6)*(cos(q1)*cos(q4) + sin(q4)*(cos(q2)*sin(q1)*sin(q3) + cos(q3)*sin(q1)*sin(q2))) - cos(q6)*(cos(q5)*(cos(q1)*sin(q4) - cos(q4)*(cos(q2)*sin(q1)*sin(q3) + cos(q3)*sin(q1)*sin(q2))) + sin(q5)*(sin(q1)*sin(q2)*sin(q3) - cos(q2)*cos(q3)*sin(q1))) - sin(q6)*(cos(q5)*(cos(q1)*sin(q4) - cos(q4)*(cos(q2)*sin(q1)*sin(q3) + cos(q3)*sin(q1)*sin(q2))) + sin(q5)*(sin(q1)*sin(q2)*sin(q3) - cos(q2)*cos(q3)*sin(q1))) - cos(q5)*(sin(q1)*sin(q2)*sin(q3) - cos(q2)*cos(q3)*sin(q1)), l5*cos(q2 + q3)*sin(q1) + l6*cos(q2 + q3)*sin(q1) + l3*cos(q2)*sin(q1) + l4*sin(q1)*sin(q2) + l7*cos(q2 + q3)*cos(q5)*sin(q1) + l8*cos(q2 + q3)*cos(q5)*sin(q1) + l7*cos(q1)*sin(q4)*sin(q5) + l8*cos(q1)*sin(q4)*sin(q5) - l7*cos(q2)*cos(q4)*sin(q1)*sin(q3)*sin(q5) - l7*cos(q3)*cos(q4)*sin(q1)*sin(q2)*sin(q5) - l8*cos(q2)*cos(q4)*sin(q1)*sin(q3)*sin(q5) - l8*cos(q3)*cos(q4)*sin(q1)*sin(q2)*sin(q5)]
[                                                                                                                                                                                                                                                                                                                                                                                                                            cos(q2 + q3)*cos(q6)*sin(q4) - sin(q6)*(sin(q2 + q3)*sin(q5) - cos(q2 + q3)*cos(q4)*cos(q5)) - sin(q2 + q3)*cos(q5) - cos(q2 + q3)*cos(q4)*sin(q5) - cos(q6)*(sin(q2 + q3)*sin(q5) - cos(q2 + q3)*cos(q4)*cos(q5)) - cos(q2 + q3)*sin(q4)*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                             cos(q2 + q3)*cos(q6)*sin(q4) - sin(q6)*(sin(q2 + q3)*sin(q5) - cos(q2 + q3)*cos(q4)*cos(q5)) - sin(q2 + q3)*cos(q5) - cos(q2 + q3)*cos(q4)*sin(q5) - cos(q6)*(sin(q2 + q3)*sin(q5) - cos(q2 + q3)*cos(q4)*cos(q5)) - cos(q2 + q3)*sin(q4)*sin(q6),                                                                                                                                                                                                                                                                                                                                                                                                                             cos(q2 + q3)*cos(q6)*sin(q4) - sin(q6)*(sin(q2 + q3)*sin(q5) - cos(q2 + q3)*cos(q4)*cos(q5)) - sin(q2 + q3)*cos(q5) - cos(q2 + q3)*cos(q4)*sin(q5) - cos(q6)*(sin(q2 + q3)*sin(q5) - cos(q2 + q3)*cos(q4)*cos(q5)) - cos(q2 + q3)*sin(q4)*sin(q6),                                                                                                                                         l1 + l2 - l5*sin(q2 + q3) - l6*sin(q2 + q3) + l4*cos(q2) - l3*sin(q2) - (l7*cos(q2 + q3)*sin(q4 + q5))/2 - (l8*cos(q2 + q3)*sin(q4 + q5))/2 - l7*sin(q2 + q3)*cos(q5) - l8*sin(q2 + q3)*cos(q5) + (l7*sin(q4 - q5)*cos(q2 + q3))/2 + (l8*sin(q4 - q5)*cos(q2 + q3))/2]
[                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             0,                                                                                                                                                                                                                                                                                                                                                                                                             1]
 
ET[0][0] = sin(q6)*(cos(q4)*sin(q1) - sin(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) - sin(q5)*(sin(q1)*sin(q4) + cos(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) - cos(q6)*(cos(q4)*sin(q1) - sin(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) + cos(q6)*(cos(q5)*(sin(q1)*sin(q4) + cos(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) + sin(q5)*(cos(q1)*cos(q2)*cos(q3) - cos(q1)*sin(q2)*sin(q3))) + sin(q6)*(cos(q5)*(sin(q1)*sin(q4) + cos(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) + sin(q5)*(cos(q1)*cos(q2)*cos(q3) - cos(q1)*sin(q2)*sin(q3))) + cos(q5)*(cos(q1)*cos(q2)*cos(q3) - cos(q1)*sin(q2)*sin(q3))
ET[0][1] = sin(q6)*(cos(q4)*sin(q1) - sin(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) - sin(q5)*(sin(q1)*sin(q4) + cos(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) - cos(q6)*(cos(q4)*sin(q1) - sin(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) + cos(q6)*(cos(q5)*(sin(q1)*sin(q4) + cos(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) + sin(q5)*(cos(q1)*cos(q2)*cos(q3) - cos(q1)*sin(q2)*sin(q3))) + sin(q6)*(cos(q5)*(sin(q1)*sin(q4) + cos(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) + sin(q5)*(cos(q1)*cos(q2)*cos(q3) - cos(q1)*sin(q2)*sin(q3))) + cos(q5)*(cos(q1)*cos(q2)*cos(q3) - cos(q1)*sin(q2)*sin(q3))
ET[0][2] = sin(q6)*(cos(q4)*sin(q1) - sin(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) - sin(q5)*(sin(q1)*sin(q4) + cos(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) - cos(q6)*(cos(q4)*sin(q1) - sin(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) + cos(q6)*(cos(q5)*(sin(q1)*sin(q4) + cos(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) + sin(q5)*(cos(q1)*cos(q2)*cos(q3) - cos(q1)*sin(q2)*sin(q3))) + sin(q6)*(cos(q5)*(sin(q1)*sin(q4) + cos(q4)*(cos(q1)*cos(q2)*sin(q3) + cos(q1)*cos(q3)*sin(q2))) + sin(q5)*(cos(q1)*cos(q2)*cos(q3) - cos(q1)*sin(q2)*sin(q3))) + cos(q5)*(cos(q1)*cos(q2)*cos(q3) - cos(q1)*sin(q2)*sin(q3))

ET[0][3] = l5*cos(q2 + q3)*cos(q1) + l6*cos(q2 + q3)*cos(q1) + l3*cos(q1)*cos(q2) + l4*cos(q1)*sin(q2) + l7*cos(q2 + q3)*cos(q1)*cos(q5) + l8*cos(q2 + q3)*cos(q1)*cos(q5) - l7*sin(q1)*sin(q4)*sin(q5) - l8*sin(q1)*sin(q4)*sin(q5) - l7*cos(q1)*cos(q2)*cos(q4)*sin(q3)*sin(q5) - l7*cos(q1)*cos(q3)*cos(q4)*sin(q2)*sin(q5) - l8*cos(q1)*cos(q2)*cos(q4)*sin(q3)*sin(q5) - l8*cos(q1)*cos(q3)*cos(q4)*sin(q2)*sin(q5)
ET[1][3] = l5*cos(q2 + q3)*sin(q1) + l6*cos(q2 + q3)*sin(q1) + l3*cos(q2)*sin(q1) + l4*sin(q1)*sin(q2) + l7*cos(q2 + q3)*cos(q5)*sin(q1) + l8*cos(q2 + q3)*cos(q5)*sin(q1) + l7*cos(q1)*sin(q4)*sin(q5) + l8*cos(q1)*sin(q4)*sin(q5) - l7*cos(q2)*cos(q4)*sin(q1)*sin(q3)*sin(q5) - l7*cos(q3)*cos(q4)*sin(q1)*sin(q2)*sin(q5) - l8*cos(q2)*cos(q4)*sin(q1)*sin(q3)*sin(q5) - l8*cos(q3)*cos(q4)*sin(q1)*sin(q2)*sin(q5)
ET[2][3] = l1 + l2 - (l5 + l6 + l7*cos(q5))*sin(q2 + q3) + l4*cos(q2) - l3*sin(q2) - ( (l7 + l8)*cos(q2 + q3)*sin(q4 + q5))/2 - l8*sin(q2 + q3)*cos(q5) + (l7*sin(q4 - q5)*cos(q2 + q3))/2 + (l8*sin(q4 - q5)*cos(q2 + q3))/2
